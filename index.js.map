{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export default function generateImageElementsFromJSON(json) {\n\n  const createHTMLElementsFromString = (htmlString) => {\n    let div = document.createElement('div');\n    div.innerHTML = htmlString.trim();\n    return div.firstChild;\n  }\n\n  let allImagesFrag = new DocumentFragment();\n  if (json.length > 0) {\n    json.forEach((image) => {\n      const { largeImageURL, webformatURL, likes, views, comments, downloads } = image;\n      allImagesFrag.appendChild(createHTMLElementsFromString(`\n        <div class=\"gallery-item\">\n              <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                <img\n                  class=\"gallery-image\"\n                  src=\"${webformatURL}\"\n                />\n              </a>\n              <div class=\"bottom-panel\">\n                <div class=\"like-chip\">\n                  <span class=\"material-symbols-outlined\">thumb_up</span>\n                  <p class=\"like-number chip-text\">${likes}</p>\n                </div>\n                <div class=\"like-chip\">\n                  <span class=\"material-symbols-outlined\">visibility</span>\n                  <p class=\"like-number chip-text\">${views}</p>\n                </div>\n                <div class=\"like-chip\">\n                  <span class=\"material-symbols-outlined\">chat</span>\n                  <p class=\"like-number chip-text\">${comments}</p>\n                </div>\n                <div class=\"like-chip\">\n                  <span class=\"material-symbols-outlined\">download</span>\n                  <p class=\"like-number chip-text\">${downloads}</p>\n                </div>\n              </div>\n        </div>`\n      ));\n    });\n  }else {\n    allImagesFrag.appendChild(createHTMLElementsFromString(`\n        <div class=\"not-found\">\n              <span class=\"material-symbols-outlined\">search_off</span>\n              <p>Sorry, there are no images matching your search query. Please try again!</p>\n        </div>`\n    ));\n  }\n  return allImagesFrag;\n}","\nimport SimpleLightBox from 'simplelightbox';\n\nimport generateImageElementsFromJSON from './render-functions.js';\nimport iziToast from 'izitoast';\n\nconst btnSearch = document.querySelector('.btn-search');\nconst loader = document.querySelector('.loader-btn');\n\nlet box = new SimpleLightBox('.gallery a', {\n  captionDelay: 250,\n  captionsData: 'alt',\n  showCounter: false,\n});\n\nexport default function injectElementsDataFromPixaBaySearch (key, searchVal='flower', elementToInject) {\n  const requestOptions = new URLSearchParams( {\n    key: key,\n    q: searchVal,\n    image_type: 'photo',\n    orientation: 'portrait',\n    safesearch: 'true'\n  })\n  const options = {\n    headers: {\n      Accept: \"application/json\",\n    }\n  };\n\n  fetch(`https://pixabay.com/api/?${requestOptions}`, options)\n    .then(res => {\n      return res.json();\n    })\n    .then(data => {\n      setTimeout(()=>{\n      elementToInject.innerHTML = '';\n      elementToInject.appendChild(generateImageElementsFromJSON(data.hits));\n      window.scrollTo({\n        top: 0,\n        behavior: 'smooth'\n      });\n\n        box.refresh();\n        btnSearch.classList.remove('hidden');\n        loader.classList.add('hidden');\n      },500)\n\n    })\n    .catch(error => {\n      iziToast.error({title:error.message});\n    })\n\n}\n\n","import './js/render-functions.js';\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport injectElementsDataFromPixaBaySearch from './js/pixabay-api.js';\n\nlet gallery = document.querySelector('.gallery');\nconst form = document.querySelector('.search-bar');\nconst btnSearch = document.querySelector('.btn-search');\nconst inputSearch = document.querySelector('.input-search');\nconst loader = document.querySelector('.loader-btn');\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n  const data = form.data.value.trim();\n  if (data.length > 0){\n    btnSearch.classList.add('hidden');\n    loader.classList.remove('hidden');\n    injectElementsDataFromPixaBaySearch('46528220-f321f8a91f42a85f9ca952d44', data, gallery);\n  }else {\n    inputSearch.classList.add('blink');\n    setTimeout(()=>{inputSearch.classList.remove('blink');},500)\n  }\n\n});\n\n"],"names":["generateImageElementsFromJSON","json","createHTMLElementsFromString","htmlString","div","allImagesFrag","image","largeImageURL","webformatURL","likes","views","comments","downloads","btnSearch","loader","box","SimpleLightBox","injectElementsDataFromPixaBaySearch","key","searchVal","elementToInject","requestOptions","options","res","data","error","iziToast","gallery","form","inputSearch","e"],"mappings":"6vBAAe,SAASA,EAA8BC,EAAM,CAE1D,MAAMC,EAAgCC,GAAe,CACnD,IAAIC,EAAM,SAAS,cAAc,KAAK,EACtC,OAAAA,EAAI,UAAYD,EAAW,OACpBC,EAAI,UACZ,EAED,IAAIC,EAAgB,IAAI,iBACxB,OAAIJ,EAAK,OAAS,EAChBA,EAAK,QAASK,GAAU,CACtB,KAAM,CAAE,cAAAC,EAAe,aAAAC,EAAc,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,EAAGN,EAC3ED,EAAc,YAAYH,EAA6B;AAAA;AAAA,8CAEfK,CAAa;AAAA;AAAA;AAAA,yBAGlCC,CAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qDAMgBC,CAAK;AAAA;AAAA;AAAA;AAAA,qDAILC,CAAK;AAAA;AAAA;AAAA;AAAA,qDAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,qDAIRC,CAAS;AAAA;AAAA;AAAA,eAI9D,CAAO,CACP,CAAK,EAEDP,EAAc,YAAYH,EAA6B;AAAA;AAAA;AAAA;AAAA,eAK3D,CAAK,EAEIG,CACT,CC5CA,MAAMQ,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAS,SAAS,cAAc,aAAa,EAEnD,IAAIC,EAAM,IAAIC,EAAe,aAAc,CACzC,aAAc,IACd,aAAc,MACd,YAAa,EACf,CAAC,EAEc,SAASC,EAAqCC,EAAKC,EAAU,SAAUC,EAAiB,CACrG,MAAMC,EAAiB,IAAI,gBAAiB,CAC1C,IAAKH,EACL,EAAGC,EACH,WAAY,QACZ,YAAa,WACb,WAAY,MAChB,CAAG,EACKG,EAAU,CACd,QAAS,CACP,OAAQ,kBACT,CACL,EAEE,MAAM,4BAA4BD,CAAc,GAAIC,CAAO,EACxD,KAAKC,GACGA,EAAI,MACZ,EACA,KAAKC,GAAQ,CACZ,WAAW,IAAI,CACfJ,EAAgB,UAAY,GAC5BA,EAAgB,YAAYpB,EAA8BwB,EAAK,IAAI,CAAC,EACpE,OAAO,SAAS,CACd,IAAK,EACL,SAAU,QAClB,CAAO,EAECT,EAAI,QAAO,EACXF,EAAU,UAAU,OAAO,QAAQ,EACnCC,EAAO,UAAU,IAAI,QAAQ,CAC9B,EAAC,GAAG,CAEX,CAAK,EACA,MAAMW,GAAS,CACdC,EAAS,MAAM,CAAC,MAAMD,EAAM,OAAO,CAAC,CAC1C,CAAK,CAEL,CChDA,IAAIE,EAAU,SAAS,cAAc,UAAU,EAC/C,MAAMC,EAAO,SAAS,cAAc,aAAa,EAC3Cf,EAAY,SAAS,cAAc,aAAa,EAChDgB,EAAc,SAAS,cAAc,eAAe,EACpDf,EAAS,SAAS,cAAc,aAAa,EAEnDc,EAAK,iBAAiB,SAAUE,GAAK,CACnCA,EAAE,eAAc,EAChB,MAAMN,EAAOI,EAAK,KAAK,MAAM,KAAI,EAC7BJ,EAAK,OAAS,GAChBX,EAAU,UAAU,IAAI,QAAQ,EAChCC,EAAO,UAAU,OAAO,QAAQ,EAChCG,EAAoC,qCAAsCO,EAAMG,CAAO,IAEvFE,EAAY,UAAU,IAAI,OAAO,EACjC,WAAW,IAAI,CAACA,EAAY,UAAU,OAAO,OAAO,CAAE,EAAE,GAAG,EAG/D,CAAC"}